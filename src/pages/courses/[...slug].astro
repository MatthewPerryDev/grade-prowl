---
import { getCollection } from "astro:content";
import Layout from "../../layouts/layout.astro";
import AveragesTable from "../../components/AveragesTable.svelte";
import DetailedTable from "../../components/DetailedTable.svelte";
import Test from '../../components/Graph.svelte';
import CourseGraph from "../../components/CourseGraph.svelte";

// 1. Generate a new path for every collection entry
export async function getStaticPaths() {
  const courses = await getCollection("courses");
  return courses.map((entry) => ({
    params: { slug: `${entry.data.department}-${entry.data.number}` },
    props: { entry },
  }));
}
// 2. When it's time to render, you can get the entry directly from the prop
const { entry } = Astro.props;
const details = entry.data.details;
const averages = entry.data.averages;
//    <TestLineChart client:only="svelte" data={averages} />
    //<Test client:only testData={averages}/>

---

<Layout>
  <div class = "self-center mx-8 md:mx-16 lg:mx-32">
    <CourseGraph client:only="svelte" data={averages} />
  </div>
</Layout>
